{% include 'apps_gallery/shared/disabled_styles.html' %}

<div id="database-section" class="container" style="margin: 0 !important; padding: 0 !important;">
    <div class="card border-0 shadow-lg" style="background-color: rgba(13, 25, 45, 0.8) !important;">
        <div class="card-body">
            <h2 class="card-title h3 mb-4">
                <i class="bi bi-database text-cyber-emerald"></i>
                <span class="text-cyber-emerald">データベース</span>
            </h2>

            <div class="database-inputs">
                <!-- データベース種類 -->
                <div class="mb-4">
                    <label class="form-label text-cyber-emerald">データベース種類</label>
                    <p class="text-muted small mb-3 text-cyber-emerald">
                        ※使用しているデータベースの種類を選択してください
                    </p>
                    <div class="row g-3">
                        {% for key, value in DATABASE_TYPES.items %}
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox"
                                           id="db-type-{{ key }}"
                                           name="database_types"
                                           value="{{ key }}"
                                           class="form-check-input cyber-emerald-focus"
                                           {% if key in app.database.types %}checked{% endif %}
                                           {% if readonly %}disabled{% endif %}>
                                    <label class="form-check-label text-cyber-emerald" for="db-type-{{ key }}">
                                        {{ value }}
                                    </label>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- ORM -->
                <div class="mb-4">
                    <label class="form-label text-cyber-emerald">ORM</label>
                    <p class="text-muted small mb-3 text-cyber-emerald">
                        ※ORM（Object-Relational Mapping）はデータベース操作をオブジェクト指向的に行うためのツールです。使用しているORMがあれば選択してください。
                    </p>
                    <div class="row g-3">
                        {% for key, value in ORMS.items %}
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox"
                                           id="db-orm-{{ key }}"
                                           name="orm_tools"
                                           value="{{ key }}"
                                           class="form-check-input cyber-emerald-focus"
                                           {% if key in app.database.orm_tools %}checked{% endif %}
                                           {% if readonly %}disabled{% endif %}>
                                    <label class="form-check-label text-cyber-emerald" for="db-orm-{{ key }}">
                                        {{ value }}
                                    </label>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* サイバーパンクなスタイル */
:root {
    --cyber-emerald: #50c878;
    --cyber-emerald-glow: rgba(80, 200, 120, 0.5);
}

/* cyber-emerald-focusクラス */
.cyber-emerald-focus:focus {
    box-shadow: 0 0 0 0.25rem var(--cyber-emerald-glow) !important;
    border-color: var(--cyber-emerald) !important;
    outline: 0 !important;
}

/* データベースタブのスタイル */
#database-section .card-title,
#database-section .text-cyber-emerald {
    color: var(--cyber-emerald) !important;
    text-shadow: 0 0 10px var(--cyber-emerald),
                0 0 20px var(--cyber-emerald) !important;
}

#database-section .form-control,
#database-section .form-select,
#database-section .form-check-input {
    border: 2px solid var(--cyber-emerald) !important;
    background-color: rgba(13, 25, 45, 0.95) !important;
    width: 1.2em !important;
    height: 1.2em !important;
    position: relative !important;
    margin-top: 0.3em !important;
}

#database-section .form-check-input:checked {
    background-color: var(--cyber-emerald) !important;
    border-color: var(--cyber-emerald) !important;
    box-shadow: 0 0 10px var(--cyber-emerald) !important;
}

#database-section .form-check-input:checked::after {
    content: '✓' !important;
    position: absolute !important;
    color: rgba(13, 25, 45, 0.95) !important;
    font-size: 1em !important;
    line-height: 0.8 !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    font-weight: bold !important;
}

#database-section .form-check-label,
#database-section .text-cyber-emerald {
    color: var(--cyber-emerald) !important;
    text-shadow: 0 0 5px var(--cyber-emerald) !important;
}

#database-section .form-check-input:hover {
    border-color: var(--cyber-emerald) !important;
    cursor: pointer !important;
}

/* disabled状態のスタイル */
#database-section .form-check-input:disabled:checked {
    background-color: var(--cyber-emerald) !important;
    border-color: var(--cyber-emerald) !important;
    opacity: 0.7 !important;
}
</style> 