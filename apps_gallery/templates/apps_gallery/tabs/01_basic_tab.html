{% load app_filters %}

<div class="container">
    <div class="card border-0">
        <div class="card-body">
            <h2 class="card-title h3 mb-4">
                <i class="bi bi-info-circle-fill text-cyber-yellow"></i> 基本情報
            </h2>
            
            <!-- アプリ名 -->
            <div class="mb-4">
                <label class="form-label fw-bold text-cyber-yellow" for="title">
                    アプリ名
                </label>
                <input type="text" 
                       id="title" 
                       name="title" 
                       class="form-control form-control-lg cyber-yellow-focus"
                       value="{{ app.title|default:'' }}"
                       {% if readonly %}disabled{% endif %}>
            </div>

            <!-- アプリの種類 -->
            <div class="mb-4">
                <label class="form-label fw-bold text-cyber-yellow">アプリの種類</label>
                <div class="text-cyber-yellow">
                    {% for type in app.app_types %}
                        <span class="badge me-2" style="background-color: rgba(255, 215, 0, 0.2); color: var(--cyber-yellow); border: 1px solid var(--cyber-yellow);">
                            {{ APP_TYPES|get_dict_value:type }}
                        </span>
                    {% endfor %}
                </div>
            </div>

            <!-- ジャンル -->
            <div class="mb-4">
                <label class="form-label fw-bold text-cyber-yellow">ジャンル</label>
                <div class="text-cyber-yellow">
                    {% for genre in app.genres %}
                        <span class="badge me-2" style="background-color: rgba(255, 215, 0, 0.2); color: var(--cyber-yellow); border: 1px solid var(--cyber-yellow);">
                            {{ GENRES|get_dict_value:genre }}
                        </span>
                    {% endfor %}
                    {% if app.other_genre %}
                        <span class="badge me-2" style="background-color: rgba(255, 215, 0, 0.2); color: var(--cyber-yellow); border: 1px solid var(--cyber-yellow);">
                            {{ app.other_genre }}
                        </span>
                    {% endif %}
                </div>
            </div>

            <!-- 開発状況 -->
            <div class="mb-4">
                <label class="form-label fw-bold text-cyber-yellow">開発状況</label>
                <div class="text-cyber-yellow">
                    <span class="badge" style="background-color: rgba(255, 215, 0, 0.2); color: var(--cyber-yellow); border: 1px solid var(--cyber-yellow);">
                        {{ APP_STATUS|get_dict_value:app.status }}
                    </span>
                </div>
            </div>

            <!-- アプリのURL -->
            {% if app.app_url %}
            <div class="mb-4">
                <label class="form-label fw-bold text-cyber-yellow">アプリのURL</label>
                <div>
                    <a href="{{ app.app_url }}" 
                       target="_blank" 
                       class="text-cyber-yellow text-decoration-none">
                        <i class="bi bi-link-45deg"></i> {{ app.app_url }}
                    </a>
                </div>
            </div>
            {% endif %}

            <!-- GitHubリポジトリURL -->
            {% if app.github_url %}
            <div class="mb-4">
                <label class="form-label fw-bold text-cyber-yellow">GitHubリポジトリURL</label>
                <div>
                    <a href="{{ app.github_url }}" 
                       target="_blank" 
                       class="text-cyber-yellow text-decoration-none">
                        <i class="bi bi-github"></i> {{ app.github_url }}
                    </a>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- JavaScriptを追加 -->
<script>
function toggleOtherGenreInput(checkbox) {
    const otherInput = document.getElementById('other-genre-input');
    if (checkbox.checked) {
        otherInput.style.display = 'block';
    } else {
        otherInput.style.display = 'none';
        otherInput.querySelector('input').value = ''; // チェックを外したら入力をクリア
    }
}
</script>

<style>
/* 基本情報タブ専用のスタイル */
#basic .text-cyber-yellow {
    color: var(--cyber-yellow) !important;
    text-shadow: 0 0 5px var(--cyber-yellow);
}

#basic .form-control {
    border-color: var(--cyber-yellow) !important;
    color: var(--cyber-yellow) !important;
}

#basic .cyber-yellow-focus:focus {
    border-color: var(--cyber-yellow) !important;
    box-shadow: 0 0 10px var(--cyber-yellow) !important;
}

#basic .cyber-yellow-check:checked {
    background-color: var(--cyber-yellow) !important;
    border-color: var(--cyber-yellow) !important;
    box-shadow: 0 0 10px var(--cyber-yellow) !important;
}

#basic .input-group-text {
    background: rgba(255,215,0,0.1) !important;
    border-color: var(--cyber-yellow) !important;
    color: var(--cyber-yellow) !important;
}

#basic .form-text {
    color: var(--cyber-yellow) !important;
    text-shadow: 0 0 5px var(--cyber-yellow) !important;
}

#basic .form-text i {
    color: var(--cyber-yellow) !important;
    text-shadow: 0 0 5px var(--cyber-yellow) !important;
}

#basic .form-select {
    border-color: var(--cyber-yellow) !important;
    color: var(--cyber-yellow) !important;
    background-color: rgba(0, 0, 0, 0.3) !important;
}

#basic .form-select option {
    background-color: #1a1a1a !important;
    color: var(--cyber-yellow) !important;
}

#basic .form-select:focus {
    border-color: var(--cyber-yellow) !important;
    box-shadow: 0 0 10px var(--cyber-yellow) !important;
}

#basic ::placeholder {
    color: rgba(255, 215, 0, 0.5) !important;
}

#basic .bg-cyber-yellow {
    background: rgba(255,215,0,0.1) !important;
    border-color: var(--cyber-yellow) !important;
}
</style> 