<div id="dev_env" class="container" style="margin-top: 20px !important;">
    <div class="card border-0 shadow-lg">
        <div class="card-body">
            <h2 class="card-title h3 mb-4">
                <i class="bi bi-tools text-cyber-purple"></i>
                <span class="text-cyber-purple">開発環境</span>
            </h2>

            <form id="dev-env-form">
                <!-- IDE/エディタ -->
                <div class="mb-4">
                    <label class="form-label text-cyber-purple">使用したIDE/エディタ <span class="text-danger">*</span></label>
                    <p class="text-muted small mb-3 text-cyber-purple">
                        ※コードを書くための編集ツールです。Visual Studio Code、Cursor、PyCharmなど、
                        好みのエディタを選んでください。初学者の方にはVisual Studio CodeやCursor（AI支援機能付き）がおすすめです。
                    </p>
                    <div class="row g-3">
                        {% for key, value in editors.items %}
                        <div class="col-md-4">
                            <div class="form-check">
                                <input type="checkbox" 
                                       class="form-check-input"
                                       name="editors"
                                       value="{{ key }}"
                                       {% if key in app.development_environment.editors %}checked{% endif %}
                                       {% if readonly %}disabled{% endif %}>
                                <label class="form-check-label text-cyber-purple">{{ value }}</label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- バージョン管理 -->
                <div class="mb-4">
                    <label class="form-label text-cyber-purple">バージョン管理システム <span class="text-danger">*</span></label>
                    <p class="text-muted small mb-3 text-cyber-purple">
                        ※コードの変更履歴を管理するツールです。
                        Gitは現代の開発ではほぼ必須のツールです。
                        その上でGitHubやGitLabなどのサービスと組み合わせて使用すると、
                        コードの共有やバックアップがより便利になります。
                        個人開発でもGit + GitHubの使用を強くおすすめします。
                    </p>
                    <div class="row g-3">
                        {% for key, value in version_control.items %}
                        <div class="col-md-4">
                            <div class="form-check">
                                <input type="checkbox" 
                                       class="form-check-input"
                                       name="version_control"
                                       value="{{ key }}"
                                       {% if key in app.development_environment.version_control %}checked{% endif %}
                                       {% if readonly %}disabled{% endif %}>
                                <label class="form-check-label text-cyber-purple">{{ value }}</label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- 仮想化ツール -->
                <div class="mb-4">
                    <label class="form-label text-cyber-purple">仮想化ツール</label>
                    <p class="text-muted small mb-3 text-cyber-purple">
                        ※開発環境を簡単に構築・共有するためのツールです。
                        Dockerが代表的で、複数のコンテナ（アプリ、データベースなど）を
                        使う場合はDocker Composeと組み合わせて使用します。
                        メリットは：
                        1. パソコンのOSが変わっても同じ環境で開発できる
                        2. 新しいパソコンでも「Docker起動するだけ」で開発再開できる
                        3. チームメンバー全員が同じ環境で開発できる
                        
                        個人開発では必須ではありませんが、使えると便利なツールです。
                    </p>
                    <div class="row g-3">
                        {% for key, value in virtualization_tools.items %}
                        <div class="col-md-4">
                            <div class="form-check">
                                <input type="checkbox" 
                                       class="form-check-input cyber-purple-focus"
                                       name="virtualization"
                                       value="{{ key }}"
                                       {% if key in app.development_environment.virtualization %}checked{% endif %}
                                       {% if readonly %}disabled{% endif %}>
                                <label class="form-check-label text-cyber-purple">{{ value }}</label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- チームサイズ -->
                <div class="mb-4">
                    <label class="form-label text-cyber-purple">チームサイズ</label>
                    <p class="text-muted small mb-3 text-cyber-purple">
                        ※開発に携わった人数を選択してください。
                        個人開発の場合は「1人」を選択してください。
                    </p>
                    <div class="row g-3">
                        {% for key, value in team_sizes.items %}
                        <div class="col-md-4">
                            <div class="form-check">
                                <input type="radio" 
                                       id="team-size-{{ key }}"
                                       class="form-check-input cyber-purple-focus"
                                       name="team_size"
                                       value="{{ key }}"
                                       {% if key == app.development_environment.team_size %}checked{% endif %}
                                       {% if readonly %}disabled{% endif %}>
                                <label class="form-check-label text-cyber-purple" for="team-size-{{ key }}">
                                    {{ value }}
                                </label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- コミュニケーションツール -->
                <div class="mb-4">
                    <label class="form-label text-cyber-purple">コミュニケーションツール</label>
                    <p class="text-muted small mb-3 text-cyber-purple">
                        ※チーム開発時のコミュニケーションに使用するツールです。
                        SlackやDiscordが一般的です。個人開発の場合は選択不要です。
                    </p>
                    <div class="row g-3">
                        {% for key, value in communication_tools.items %}
                        <div class="col-md-4">
                            <div class="form-check">
                                <input type="checkbox" 
                                       id="comm-tool-{{ key }}"
                                       class="form-check-input cyber-purple-focus"
                                       name="communication_tools"
                                       value="{{ key }}"
                                       {% if key in app.development_environment.communication_tools %}checked{% endif %}
                                       {% if readonly %}disabled{% endif %}>
                                <label class="form-check-label text-cyber-purple" for="comm-tool-{{ key }}">
                                    {{ value }}
                                </label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- CI/CD -->
                <div class="mb-4">
                    <label class="form-label text-cyber-purple">CI/CDツール</label>
                    <p class="text-muted small mb-3 text-cyber-purple">
                        ※CI/CDツールは主に大規模開発で使用されます。自動テストやデプロイを行うためのツールですが、
                        個人開発や小規模プロジェクトでは必須ではありません。
                    </p>
                    <div class="row g-3">
                        {% for key, value in ci_cd.items %}
                        <div class="col-md-4">
                            <div class="form-check">
                                <input type="checkbox" 
                                       class="form-check-input cyber-purple-focus"
                                       name="ci_cd"
                                       value="{{ key }}"
                                       {% if key in app.development_environment.ci_cd %}checked{% endif %}
                                       {% if readonly %}disabled{% endif %}>
                                <label class="form-check-label text-cyber-purple">{{ value }}</label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- インフラストラクチャ -->
                <div class="mb-4">
                    <label class="form-label text-cyber-purple">インフラストラクチャ</label>
                    <p class="text-muted small mb-3 text-cyber-purple">
                        ※インフラストラクチャはアプリケーションを動かすための基盤となる環境のことです。
                        サーバー、データベース、ホスティングサービスなどが含まれます。
                        個人開発では、以下のようなホスティングサービスを選ぶことが多いです：
                        - PythonAnywhere：Pythonアプリに特化した、初学者に優しいホスティング
                        - Render：無料枠があり、デプロイが簡単
                        - Heroku：安定性が高く、多機能（一部有料）
                        - Vercel：フロントエンド特化で使いやすい
                    </p>
                    <div class="row g-3">
                        {% for key, value in infrastructure.items %}
                        <div class="col-md-4">
                            <div class="form-check">
                                <input type="checkbox" 
                                       id="infra-{{ key }}"
                                       class="form-check-input cyber-purple-focus"
                                       name="infrastructure"
                                       value="{{ key }}"
                                       {% if key in app.development_environment.infrastructure %}checked{% endif %}
                                       {% if readonly %}disabled{% endif %}>
                                <label class="form-check-label text-cyber-purple" for="infra-{{ key }}">
                                    {{ value }}</label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- APIツール -->
                <div class="mb-4">
                    <label class="form-label text-cyber-purple">APIツール</label>
                    <p class="text-muted small mb-3 text-cyber-purple">
                        ※APIツールは外部サービスとの連携時に使用します。
                        シンプルなWebアプリケーションでは必要ない場合が多いです。
                    </p>
                    <div class="row g-3">
                        {% for key, value in api_tools.items %}
                        <div class="col-md-4">
                            <div class="form-check">
                                <input type="checkbox" 
                                       id="api-tool-{{ key }}"
                                       class="form-check-input cyber-purple-focus"
                                       name="api_tools"
                                       value="{{ key }}"
                                       {% if key in app.development_environment.api_tools %}checked{% endif %}
                                       {% if readonly %}disabled{% endif %}>
                                <label class="form-check-label text-cyber-purple" for="api-tool-{{ key }}">
                                    {{ value }}
                                </label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- モニタリングツール -->
                <div class="mb-4">
                    <label class="form-label text-cyber-purple">モニタリングツール</label>
                    <p class="text-muted small mb-3 text-cyber-purple">
                        ※モニタリングツールはサービスの稼働状況を監視するために使用されます。
                        大規模サービスでは重要ですが、個人開発では通常必要ありません。
                    </p>
                    <div class="row g-3">
                        {% for key, value in monitoring_tools.items %}
                        <div class="col-md-4">
                            <div class="form-check">
                                <input type="checkbox" 
                                       id="monitoring-{{ key }}"
                                       class="form-check-input cyber-purple-focus"
                                       name="monitoring_tools"
                                       value="{{ key }}"
                                       {% if key in app.development_environment.monitoring_tools %}checked{% endif %}
                                       {% if readonly %}disabled{% endif %}>
                                <label class="form-check-label text-cyber-purple" for="monitoring-{{ key }}">
                                    {{ value }}
                                </label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- デバッグ情報の表示 -->
<div style="display: none;">
    <p>Editors: {{ editors }}</p>
    <p>Version Control: {{ version_control }}</p>
    <p>CI/CD: {{ ci_cd }}</p>
    <p>Virtualization Tools: {{ virtualization_tools }}</p>
</div>

<style>
/* 基本変数の定義 */
:root {
    --cyber-purple: #9333ea;
    --cyber-purple-dim: rgba(147, 51, 234, 0.6);
    --cyber-purple-glow: rgba(147, 51, 234, 0.3);
}

/* カードスタイル */
#dev_env .card {
    background: rgba(13, 25, 45, 0.9) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--cyber-purple) !important;  /* ボーダーを細く */
    box-shadow: 
        0 0 8px var(--cyber-purple-dim),
        inset 0 0 5px var(--cyber-purple-dim) !important;  /* さらに光量を抑制 */
}

/* テキストスタイル */
#dev_env .text-cyber-purple {
    color: var(--cyber-purple) !important;
    text-shadow: 0 0 3px var(--cyber-purple-dim) !important;  /* シャドウを1層だけに */
    font-weight: bold !important;
    letter-spacing: 1px !important;
    animation: cyber-purple-glow 3s ease-in-out infinite alternate !important;  /* アニメーションをさらにゆっくりに */
}

/* フォームコントロール */
#dev_env .form-check-input {
    border: 1px solid var(--cyber-purple) !important;
    box-shadow: 0 0 3px var(--cyber-purple-dim) !important;
}

#dev_env .form-check-input:checked {
    background-color: var(--cyber-purple) !important;
    border-color: var(--cyber-purple) !important;
    box-shadow: 0 0 10px var(--cyber-purple) !important;
}

/* チェックされた項目のラベルを輝かせる */
#dev_env .form-check-input:checked + .form-check-label {
    color: var(--cyber-purple) !important;
    text-shadow: 
        0 0 5px var(--cyber-purple),
        0 0 10px var(--cyber-purple-glow) !important;
    animation: label-glow 2s ease-in-out infinite alternate !important;
}

/* アニメーション定義 */
@keyframes cyber-purple-glow {
    from {
        text-shadow: 0 0 2px var(--cyber-purple-dim);
    }
    to {
        text-shadow: 0 0 4px var(--cyber-purple-dim);
    }
}

@keyframes label-glow {
    from {
        text-shadow: 
            0 0 5px var(--cyber-purple),
            0 0 10px var(--cyber-purple-glow);
    }
    to {
        text-shadow: 
            0 0 8px var(--cyber-purple),
            0 0 15px var(--cyber-purple-glow);
    }
}
</style> 