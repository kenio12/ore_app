{% extends 'base.html' %}
{% load profile_filters %}
{% load app_filters %}

{% block title %}プロフィール - {{ user.username }}{% endblock %}

{% block content %}
<!-- サイバーパンク風の背景 -->
<div class="cyber-background position-fixed w-100 h-100" style="top: 0; left: 0; z-index: -1;">
    <div class="cyber-grid"></div>
</div>

<!-- カスタムスタイル -->
<style>
/* フレームワーク特有のスタイル - 直接上書き */
.badge:contains('Django'), .cyber-framework-badge:contains('Django'), .badge-django, .django-badge {
    background-color: rgba(0, 20, 40, 0.7) !important;
    color: #00ffff !important; /* 青色 */
    border: 1px solid #00ffff !important;
    text-shadow: 0 0 5px #00ffff !important;
}

.badge:contains('Python'), .cyber-backend-badge:contains('Python') {
    background-color: rgba(0, 20, 40, 0.7) !important;
    color: #00ffff !important; /* 青色 - Djangoと同じ */
    border: 1px solid #00ffff !important;
    text-shadow: 0 0 5px #00ffff !important;
}

.badge:contains('Vue'), .badge:contains('Nuxt'), .cyber-framework-badge:contains('Vue'), .cyber-framework-badge:contains('Nuxt'), .vue-badge, .nuxt-badge {
    background-color: rgba(20, 0, 20, 0.7) !important;
    color: #ff1493 !important; /* ピンク色 - フロントエンド言語と同じ */
    border: 1px solid #ff1493 !important;
    text-shadow: 0 0 5px #ff1493 !important;
}

.badge:contains('JavaScript'), .badge:contains('TypeScript'), .badge:contains('Dart'), .cyber-frontend-badge:contains('JavaScript'), .cyber-frontend-badge:contains('TypeScript'), .cyber-frontend-badge:contains('Dart') {
    background-color: rgba(20, 0, 20, 0.7) !important;
    color: #ff1493 !important; /* ピンク色 */
    border: 1px solid #ff1493 !important;
    text-shadow: 0 0 5px #ff1493 !important;
}

.badge:contains('Bootstrap'), .cyber-css-badge:contains('Bootstrap') {
    background-color: rgba(40, 0, 40, 0.7) !important;
    color: #ff1493 !important; /* ピンク色 */
    border: 1px solid #ff1493 !important;
    text-shadow: 0 0 5px #ff1493 !important;
}

/* 日付表示 - 黄色テーマ */
.simple-gantt-text, .timeline-start, .timeline-end {
    color: #ffff00 !important;
    text-shadow: 0 0 5px #ffff00 !important;
}

/* 開発期間 - 黄色テーマ */
.simple-gantt-period {
    color: #ffff00 !important;
    text-shadow: 0 0 3px #ffff00 !important;
}

/* アバターのスタイル */
.cyber-avatar-placeholder {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    border: 2px solid rgba(0, 123, 255, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 20, 0.5);
    box-shadow: 0 0 10px rgba(0, 123, 255, 0.3);
    margin: 0 auto;
}

.cyber-avatar-placeholder i {
    font-size: 4rem;
    color: rgba(0, 123, 255, 0.7);
}

/* サイバーパンク風の背景 */
.cyber-background {
    background: linear-gradient(45deg, #001e54, #0066cc);
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
}

.cyber-grid {
    background-image: 
        linear-gradient(rgba(0,255,255,0.2) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,255,255,0.2) 1px, transparent 1px);
    background-size: 20px 20px;
    width: 100%;
    height: 100%;
    animation: gridGlow 4s ease-in-out infinite;
}

@keyframes gridGlow {
    0% { opacity: 0.5; }
    50% { opacity: 0.8; }
    100% { opacity: 0.5; }
}

/* バッジスタイル - セクションごとにカラーコーディング */
.cyber-backend-badge {
    background: rgba(0, 20, 40, 0.7);
    color: #00ffff;
    border: 1px solid #00ffff;
    text-shadow: 0 0 5px #00ffff;
    font-size: 0.8rem;
}

.cyber-framework-badge {
    background: rgba(20, 10, 0, 0.7);
    color: #ff8c00;
    border: 1px solid #ff8c00;
    text-shadow: 0 0 5px #ff8c00;
    font-size: 0.8rem;
}

/* Bootstrap用バッジ */
.bootstrap-badge {
    background: rgba(40, 0, 40, 0.7) !important;
    color: #ff1493 !important; 
    border: 1px solid #ff1493 !important;
    text-shadow: 0 0 5px #ff1493 !important;
}

.cyber-frontend-badge {
    background: rgba(20, 0, 20, 0.7);
    color: #ff1493;
    border: 1px solid #ff1493;
    text-shadow: 0 0 5px #ff1493;
    font-size: 0.8rem;
}

.cyber-db-badge {
    background: rgba(0, 20, 10, 0.7);
    color: #50c878;
    border: 1px solid #50c878;
    text-shadow: 0 0 5px #50c878;
    font-size: 0.8rem;
}

.cyber-arch-badge {
    background: rgba(5, 20, 5, 0.7);
    color: #32cd32;
    border: 1px solid #32cd32;
    text-shadow: 0 0 5px #32cd32;
    font-size: 0.8rem;
}

.cyber-tool-badge {
    background: rgba(20, 10, 0, 0.7);
    color: #ff8c00;
    border: 1px solid #ff8c00;
    text-shadow: 0 0 5px #ff8c00;
    font-size: 0.8rem;
}

.cyber-hosting-badge {
    background: rgba(0, 20, 20, 0.7);
    color: #ffffff;
    border: 1px solid #ffffff;
    text-shadow: 0 0 5px #ffffff;
    font-size: 0.8rem;
}

.cyber-deploy-badge {
    background: rgba(0, 20, 20, 0.7);
    color: #ffffff;
    border: 1px solid #ffffff;
    text-shadow: 0 0 5px #ffffff;
    font-size: 0.8rem;
}

.cyber-security-badge {
    background: rgba(20, 0, 0, 0.7);
    color: #ff3e3e;
    border: 1px solid #ff3e3e;
    text-shadow: 0 0 5px #ff3e3e;
    font-size: 0.8rem;
}

.cyber-package-badge {
    background: rgba(0, 20, 40, 0.7);
    color: #00ffff;
    border: 1px solid #00ffff;
    text-shadow: 0 0 5px #00ffff;
    font-size: 0.8rem;
}

.cyber-css-badge {
    background: rgba(20, 0, 20, 0.7);
    color: #ff1493;
    border: 1px solid #ff1493;
    text-shadow: 0 0 5px #ff1493;
    font-size: 0.8rem;
}

.cyber-ui-badge {
    background: rgba(20, 0, 20, 0.7);
    color: #ff1493;
    border: 1px solid #ff1493;
    text-shadow: 0 0 5px #ff1493;
    font-size: 0.8rem;
}

.cyber-app-type-badge {
    background: rgba(20, 15, 0, 0.7);
    color: #ffd700;
    border: 1px solid #ffd700;
    text-shadow: 0 0 5px #ffd700;
    font-size: 0.8rem;
    padding: 0.5em 0.7em;
    margin-right: 0.3rem;
    margin-bottom: 0.3rem;
}

.cyber-genre-badge {
    background: rgba(20, 15, 0, 0.7);
    color: #ffd700;
    border: 1px solid #ffd700;
    text-shadow: 0 0 5px #ffd700;
    font-size: 0.8rem;
    padding: 0.5em 0.7em;
    margin-right: 0.3rem;
    margin-bottom: 0.3rem;
}

/* ガンチャート関連のスタイル - 黄色系 */
.dev-section {
    color: #ffff00 !important;
    text-shadow: 0 0 5px #ffff00 !important;
}

.dev-card {
    border: 2px solid #ffff00 !important;
    box-shadow: 0 0 15px #ffff00 !important;
}

/* 今日の印付きで年表示 */
.cyber-gantt-container {
    border: 1px solid rgba(255, 255, 0, 0.5) !important;
    box-shadow: 0 0 15px rgba(255, 255, 0, 0.3) !important;
}

.cyber-gantt-header {
    border-bottom: 1px solid #ffff00 !important;
}

.timeline-start, .timeline-end, .app-name, .month-label {
    color: #ffff00 !important;
    text-shadow: 0 0 5px #ffff00 !important;
}

.month-bar {
    background-color: #ffff00 !important;
    box-shadow: 0 0 8px rgba(255, 255, 0, 0.7) !important;
}

.now-line {
    position: absolute;
    height: 100%;
    width: 2px;
    background-color: #ffff00;
    box-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
    z-index: 10;
}
</style>

<!-- 共通のdisabledスタイルを読み込み -->
{% include 'apps_gallery/shared/disabled_styles.html' %}

<div class="container mt-4 mb-5">
    <div class="row">
        <div class="col-lg-12">
            <div class="card cyber-card mb-4">
                <div class="card-header d-flex align-items-center">
                    <h3 class="mb-0 cyber-title text-cyber-blue">プロフィール情報</h3>
                    <!-- 受注状況バッジを表示 -->
                    {% if profile.job_status %}
                        <div class="ms-auto">
                            <span class="badge 
                                {% if profile.job_status == 'available' %}
                                    cyber-badge-available
                                {% elif profile.job_status == 'limited' %}
                                    cyber-badge-limited
                                {% else %}
                                    cyber-badge-unavailable
                                {% endif %}
                                job-status-badge">
                                {% if profile.job_status == 'available' %}
                                    <i class="bi bi-check-circle"></i> 受注可
                                {% elif profile.job_status == 'limited' %}
                                    <i class="bi bi-dash-circle"></i> 一部可
                                {% else %}
                                    <i class="bi bi-x-circle"></i> 非受注
                                {% endif %}
                            </span>
                        </div>
                    {% endif %}
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4 text-center mb-3 mb-md-0">
                            {% if profile.avatar_url %}
                                <img src="{{ profile.avatar_url }}" alt="プロフィール画像" class="img-fluid rounded-circle" style="max-width: 150px; border: 2px solid rgb(0, 123, 255); box-shadow: 0 0 15px rgba(0, 123, 255, 0.5);">
                            {% else %}
                                <div class="cyber-avatar-placeholder">
                                    <i class="bi bi-person-fill"></i>
                                </div>
                            {% endif %}
                        </div>
                        <div class="col-md-8">
                            <h4 class="cyber-name">{{ user.username }}</h4>
                            
                            {% if not is_own_profile %}
                                <small class="user-status online">オンライン</small>
                            {% endif %}
                            
                            {% if is_own_profile %}
                            <p class="text-light">
                                {{ user.email }}
                                <span class="badge badge-private ms-2"><i class="bi bi-eye-slash"></i> 本人のみ表示</span>
                            </p>
                            {% endif %}
                            
                            {% if profile.bio %}
                                <h5 class="text-cyber-blue mt-3">自己紹介</h5>
                                <p class="text-light">{{ profile.bio }}</p>
                            {% endif %}
                            
                            <div class="mt-3">
                                {% if profile.social_github %}
                                    {% if 'github.com' in profile.social_github %}
                                        <a href="{{ profile.social_github }}" target="_blank" class="btn btn-sm btn-outline-light me-2" style="color: #ffffff; border-color: #ffffff; text-shadow: 0 0 5px #ffffff;">
                                            <i class="bi bi-github"></i> GitHub
                                        </a>
                                    {% else %}
                                        <a href="https://github.com/{{ profile.social_github }}" target="_blank" class="btn btn-sm btn-outline-light me-2" style="color: #ffffff; border-color: #ffffff; text-shadow: 0 0 5px #ffffff;">
                                            <i class="bi bi-github"></i> GitHub
                                        </a>
                                    {% endif %}
                                {% endif %}
                                
                                {% if profile.social_twitter %}
                                    {% if 'x.com' in profile.social_twitter or 'twitter.com' in profile.social_twitter %}
                                        <a href="{{ profile.social_twitter }}" target="_blank" class="btn btn-sm btn-outline-primary me-2" style="color: #1DA1F2; border-color: #1DA1F2; text-shadow: none;">
                                            <i class="bi bi-twitter-x"></i> X
                                        </a>
                                    {% else %}
                                        <a href="https://x.com/{{ profile.social_twitter }}" target="_blank" class="btn btn-sm btn-outline-primary me-2" style="color: #1DA1F2; border-color: #1DA1F2; text-shadow: none;">
                                            <i class="bi bi-twitter-x"></i> X
                                        </a>
                                    {% endif %}
                                {% endif %}
                                
                                {% if not is_own_profile %}
                                    <a href="{% url 'chats:new_chat' user.id %}" class="btn btn-sm btn-outline-warning" style="color: #ffff00; border-color: #ffff00; text-shadow: none;">
                                        <i class="bi bi-chat-text"></i> チャット
                                    </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <!-- ハードウェア情報 -->
                    {% if profile.hardware_specs %}
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3 text-cyber-blue">
                            <i class="bi bi-cpu"></i> 現在のパソコン環境
                        </h4>
                        <div class="card" style="background-color: rgba(0, 40, 80, 0.7); border: 2px solid #00ffff; box-shadow: 0 0 20px rgba(0, 200, 255, 0.6);">
                            <div class="card-body" style="color: #00ffff;">
                                <div class="row" style="color: #00ffff;">
                                    <!-- ハードウェア情報をテーブル形式で表示 -->
                                    <div class="col-md-12" style="color: #00ffff;">
                                        <div class="hardware-specs-table" style="color: #00ffff;">
                                            <div class="row" style="color: #00ffff;">
                                                <!-- メーカーと機種情報 -->
                                                {% if profile.hardware_specs.maker %}
                                                <div class="col-md-6 col-sm-12" style="color: #00ffff;">
                                                    <div class="hardware-item mb-2 p-2" style="background-color: #000000; border-radius: 5px; border-left: 3px solid #00ffff; color: #00ffff;">
                                                        <span class="hw-label" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">メーカー:</span>
                                                        <span class="hw-value" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff; margin-left: 8px;">
                                                            <span style="color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">{{ profile.hardware_specs.maker }}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                {% endif %}
                                                
                                                {% if profile.hardware_specs.model %}
                                                <div class="col-md-6 col-sm-12" style="color: #00ffff;">
                                                    <div class="hardware-item mb-2 p-2" style="background-color: #000000; border-radius: 5px; border-left: 3px solid #00ffff; color: #00ffff;">
                                                        <span class="hw-label" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">機種名:</span>
                                                        <span class="hw-value" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff; margin-left: 8px;">
                                                            <span style="color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">{{ profile.hardware_specs.model }}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                {% endif %}
                                                
                                                <!-- PCタイプとデバイスタイプ -->
                                                {% if profile.hardware_specs.pc_type %}
                                                <div class="col-md-6 col-sm-12" style="color: #00ffff;">
                                                    <div class="hardware-item mb-2 p-2" style="background-color: #000000; border-radius: 5px; border-left: 3px solid #00ffff; color: #00ffff;">
                                                        <span class="hw-label" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">PCタイプ:</span>
                                                        <span class="hw-value" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff; margin-left: 8px;">
                                                            <span style="color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">{{ pc_types|get_item:profile.hardware_specs.pc_type }}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                {% endif %}
                                                
                                                {% if profile.hardware_specs.device_type %}
                                                <div class="col-md-6 col-sm-12" style="color: #00ffff;">
                                                    <div class="hardware-item mb-2 p-2" style="background-color: #000000; border-radius: 5px; border-left: 3px solid #00ffff; color: #00ffff;">
                                                        <span class="hw-label" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">PC種類:</span>
                                                        <span class="hw-value" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff; margin-left: 8px;">
                                                            <span style="color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">{{ device_types|get_item:profile.hardware_specs.device_type }}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                {% endif %}
                                                
                                                <!-- CPU・メモリ・ストレージ -->
                                                {% if profile.hardware_specs.cpu_type %}
                                                <div class="col-md-6 col-sm-12" style="color: #00ffff;">
                                                    <div class="hardware-item mb-2 p-2" style="background-color: #000000; border-radius: 5px; border-left: 3px solid #00ffff; color: #00ffff;">
                                                        <span class="hw-label" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">CPU:</span>
                                                        <span class="hw-value" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff; margin-left: 8px;">
                                                            <span style="color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">{{ cpu_types|get_item:profile.hardware_specs.cpu_type }}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                {% endif %}
                                                
                                                {% if profile.hardware_specs.memory_size %}
                                                <div class="col-md-6 col-sm-12" style="color: #00ffff;">
                                                    <div class="hardware-item mb-2 p-2" style="background-color: #000000; border-radius: 5px; border-left: 3px solid #00ffff; color: #00ffff;">
                                                        <span class="hw-label" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">メモリ:</span>
                                                        <span class="hw-value" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff; margin-left: 8px;">
                                                            <span style="color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">{{ memory_sizes|get_item:profile.hardware_specs.memory_size }}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                {% endif %}
                                                
                                                {% if profile.hardware_specs.storage_type %}
                                                <div class="col-md-6 col-sm-12" style="color: #00ffff;">
                                                    <div class="hardware-item mb-2 p-2" style="background-color: #000000; border-radius: 5px; border-left: 3px solid #00ffff; color: #00ffff;">
                                                        <span class="hw-label" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">ストレージ:</span>
                                                        <span class="hw-value" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff; margin-left: 8px;">
                                                            <span style="color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">{{ storage_types|get_item:profile.hardware_specs.storage_type }}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                {% endif %}
                                                
                                                <!-- モニター数・インターネット回線 -->
                                                {% if profile.hardware_specs.monitor_count %}
                                                <div class="col-md-6 col-sm-12" style="color: #00ffff;">
                                                    <div class="hardware-item mb-2 p-2" style="background-color: #000000; border-radius: 5px; border-left: 3px solid #00ffff; color: #00ffff;">
                                                        <span class="hw-label" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">今あるパソコン＋モニター:</span>
                                                        <span class="hw-value" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff; margin-left: 8px;">
                                                            <span style="color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">{{ monitor_counts|get_item:profile.hardware_specs.monitor_count }}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                {% endif %}
                                                
                                                {% if profile.hardware_specs.internet_type %}
                                                <div class="col-md-6 col-sm-12" style="color: #00ffff;">
                                                    <div class="hardware-item mb-2 p-2" style="background-color: #000000; border-radius: 5px; border-left: 3px solid #00ffff; color: #00ffff;">
                                                        <span class="hw-label" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">インターネット回線:</span>
                                                        <span class="hw-value" style="display: inline-block; color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff; margin-left: 8px;">
                                                            <span style="color: #00ffff; font-weight: bold; text-shadow: 0 0 5px #00ffff;">{{ internet_types|get_item:profile.hardware_specs.internet_type }}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    <!-- 基本情報 -->
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3" style="color: #ffd700; text-shadow: 0 0 5px #ffd700;">
                            <i class="bi bi-info-circle-fill"></i> 基本情報
                        </h4>
                        <div class="card bg-dark" style="background-color: rgba(0, 20, 50, 0.8) !important; border: 2px solid #ffd700 !important; box-shadow: 0 0 15px #ffd700;">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- アプリタイプ統計 -->
                                        {% if profile.app_types_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ffd700; text-shadow: 0 0 5px #ffd700;">制作アプリの種類</h5>
                                            <div>
                                                {% for app_type, count in profile.app_types_stats.items %}
                                                    <span class="badge cyber-app-type-badge me-1 mb-1">{{ app_type }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- ジャンル統計 -->
                                        {% if profile.genres_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ffd700; text-shadow: 0 0 5px #ffd700;">ジャンル</h5>
                                            <div>
                                                {% for genre, count in profile.genres_stats.items %}
                                                    <span class="badge cyber-genre-badge me-1 mb-1">{{ genre|genre_display }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- アプリURL統計 -->
                                        {% if profile.total_apps_with_url %}
                                        <div class="mb-3">
                                            <h5 style="color: #ffd700; text-shadow: 0 0 5px #ffd700;">デプロイ済みアプリ</h5>
                                            <p class="text-light">全{{ profile.total_apps }}アプリ中、{{ profile.total_apps_with_url }}アプリがデプロイ済み ({{ profile.deployed_percentage }}%)</p>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- GitHub統計 -->
                                        {% if profile.total_apps_with_github %}
                                        <div class="mb-3">
                                            <h5 style="color: #ffd700; text-shadow: 0 0 5px #ffd700;">GitHub公開状況</h5>
                                            <p class="text-light">全{{ profile.total_apps }}アプリ中、{{ profile.total_apps_with_github }}アプリのコードをGitHubで公開中 ({{ profile.github_percentage }}%)</p>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 開発環境 -->
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3" style="color: #ff8c00; text-shadow: 0 0 5px #ff8c00;">
                            <i class="bi bi-tools"></i> 開発環境
                        </h4>
                        <div class="card bg-dark" style="border: 2px solid #ff8c00; box-shadow: 0 0 15px #ff8c00;">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- エディタ統計 -->
                                        {% if profile.editor_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff8c00; text-shadow: 0 0 5px #ff8c00;">使用エディタ/IDE</h5>
                                            <div>
                                                {% for editor, count in profile.editor_stats.items %}
                                                    <span class="badge cyber-tool-badge me-1 mb-1">{{ editor }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- バージョン管理統計 -->
                                        {% if profile.version_control_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff8c00; text-shadow: 0 0 5px #ff8c00;">バージョン管理</h5>
                                            <div>
                                                {% for vcs, count in profile.version_control_stats.items %}
                                                    <span class="badge cyber-tool-badge me-1 mb-1">{{ vcs }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- 仮想化ツール統計 -->
                                        {% if profile.virtualization_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff8c00; text-shadow: 0 0 5px #ff8c00;">仮想化ツール</h5>
                                            <div>
                                                {% for tool, count in profile.virtualization_stats.items %}
                                                    <span class="badge cyber-tool-badge me-1 mb-1">{{ tool }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- チームサイズ統計 -->
                                        {% if profile.team_size_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff8c00; text-shadow: 0 0 5px #ff8c00;">チームサイズ</h5>
                                            <div>
                                                {% for size, count in profile.team_size_stats.items %}
                                                    <span class="badge cyber-tool-badge me-1 mb-1">{{ size }}人 ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- コミュニケーションツール統計 -->
                                        {% if profile.communication_tools_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff8c00; text-shadow: 0 0 5px #ff8c00;">コミュニケーションツール</h5>
                                            <div>
                                                {% for tool, count in profile.communication_tools_stats.items %}
                                                    <span class="badge cyber-tool-badge me-1 mb-1">{{ tool }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- CI/CDツール統計 -->
                                        {% if profile.ci_cd_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff8c00; text-shadow: 0 0 5px #ff8c00;">CI/CDツール</h5>
                                            <div>
                                                {% for tool, count in profile.ci_cd_stats.items %}
                                                    <span class="badge cyber-tool-badge me-1 mb-1">{{ tool }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- APIツール統計 -->
                                        {% if profile.api_tools_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff8c00; text-shadow: 0 0 5px #ff8c00;">APIツール</h5>
                                            <div>
                                                {% for tool, count in profile.api_tools_stats.items %}
                                                    <span class="badge cyber-tool-badge me-1 mb-1">{{ tool }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- モニタリングツール統計 -->
                                        {% if profile.monitoring_tools_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff8c00; text-shadow: 0 0 5px #ff8c00;">モニタリングツール</h5>
                                            <div>
                                                {% for tool, count in profile.monitoring_tools_stats.items %}
                                                    <span class="badge cyber-tool-badge me-1 mb-1">{{ tool }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- アーキテクチャ -->
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3" style="color: #32cd32; text-shadow: 0 0 5px #32cd32;">
                            <i class="bi bi-diagram-3"></i> アーキテクチャ
                        </h4>
                        <div class="card bg-dark" style="border: 2px solid #32cd32; box-shadow: 0 0 15px #32cd32;">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- アーキテクチャパターン統計 -->
                                        {% if profile.architecture_pattern_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #32cd32; text-shadow: 0 0 5px #32cd32;">アーキテクチャパターン</h5>
                                            <div>
                                                {% for pattern, count in profile.architecture_pattern_stats.items %}
                                                    <span class="badge cyber-arch-badge me-1 mb-1">{{ pattern }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- デザインパターン統計 -->
                                        {% if profile.design_pattern_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #32cd32; text-shadow: 0 0 5px #32cd32;">デザインパターン</h5>
                                            <div>
                                                {% for pattern, count in profile.design_pattern_stats.items %}
                                                    <span class="badge cyber-arch-badge me-1 mb-1">{{ pattern }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- バックエンド -->
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3" style="color: #00ffff; text-shadow: 0 0 5px #00ffff;">
                            <i class="bi bi-server"></i> バックエンド
                        </h4>
                        <div class="card bg-dark" style="border: 2px solid #00ffff; box-shadow: 0 0 15px #00ffff;">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- バックエンド言語統計 -->
                                        {% if profile.backend_language_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #00ffff; text-shadow: 0 0 5px #00ffff;">バックエンド言語</h5>
                                            <div>
                                                {% for lang, count in profile.backend_language_stats.items %}
                                                    <span class="badge cyber-backend-badge me-1 mb-1">{{ lang }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- バックエンドフレームワーク統計 -->
                                        {% if profile.backend_framework_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #00ffff; text-shadow: 0 0 5px #00ffff;">バックエンドフレームワーク</h5>
                                            <div>
                                                {% for fw, count in profile.backend_framework_stats.items %}
                                                    <span class="badge cyber-backend-badge me-1 mb-1">{{ fw }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- バックエンドパッケージ統計 -->
                                        {% if profile.backend_package_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #00ffff; text-shadow: 0 0 5px #00ffff;">よく使うパッケージ</h5>
                                            <div>
                                                {% for pkg, count in profile.backend_package_stats.items %}
                                                    <span class="badge cyber-package-badge me-1 mb-1">{{ pkg }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- フロントエンド -->
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3" style="color: #ff1493; text-shadow: 0 0 5px #ff1493;">
                            <i class="bi bi-window"></i> フロントエンド
                        </h4>
                        <div class="card bg-dark" style="border: 2px solid #ff1493; box-shadow: 0 0 15px #ff1493;">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- マークアップ言語統計 -->
                                        {% if profile.markup_language_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff1493; text-shadow: 0 0 5px #ff1493;">マークアップ言語</h5>
                                            <div>
                                                {% for lang, count in profile.markup_language_stats.items %}
                                                    <span class="badge cyber-frontend-badge me-1 mb-1">{{ lang }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- フロントエンド言語統計 -->
                                        {% if profile.frontend_language_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff1493; text-shadow: 0 0 5px #ff1493;">フロントエンド言語</h5>
                                            <div>
                                                {% for lang, count in profile.frontend_language_stats.items %}
                                                    <span class="badge cyber-frontend-badge me-1 mb-1">{{ lang }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- フロントエンドフレームワーク統計 -->
                                        {% if profile.frontend_framework_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff1493; text-shadow: 0 0 5px #ff1493;">フロントエンドフレームワーク</h5>
                                            <div>
                                                {% for fw, count in profile.frontend_framework_stats.items %}
                                                    <span class="badge cyber-frontend-badge me-1 mb-1">{{ fw }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- CSSフレームワーク統計 -->
                                        {% if profile.css_framework_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff1493; text-shadow: 0 0 5px #ff1493;">CSSフレームワーク</h5>
                                            <div>
                                                {% for fw, count in profile.css_framework_stats.items %}
                                                    <span class="badge cyber-css-badge me-1 mb-1">{{ fw }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- UIライブラリ統計 -->
                                        {% if profile.ui_library_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff1493; text-shadow: 0 0 5px #ff1493;">UIライブラリ</h5>
                                            <div>
                                                {% for lib, count in profile.ui_library_stats.items %}
                                                    <span class="badge cyber-ui-badge me-1 mb-1">{{ lib }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- データベース -->
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3" style="color: #50c878; text-shadow: 0 0 5px #50c878;">
                            <i class="bi bi-database"></i> データベース
                        </h4>
                        <div class="card bg-dark" style="border: 2px solid #50c878; box-shadow: 0 0 15px #50c878;">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- データベース種類統計 -->
                                        {% if profile.database_type_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #50c878; text-shadow: 0 0 5px #50c878;">データベース種類</h5>
                                            <div>
                                                {% for db, count in profile.database_type_stats.items %}
                                                    <span class="badge cyber-db-badge me-1 mb-1">{{ db }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- ORM統計 -->
                                        {% if profile.orm_tool_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #50c878; text-shadow: 0 0 5px #50c878;">ORMツール</h5>
                                            <div>
                                                {% for orm, count in profile.orm_tool_stats.items %}
                                                    <span class="badge cyber-db-badge me-1 mb-1">{{ orm }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ホスティング -->
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3 text-white">
                            <i class="bi bi-cloud"></i> ホスティング
                        </h4>
                        <div class="card bg-dark" style="border: 2px solid #ffffff; box-shadow: 0 0 15px #ffffff;">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- ホスティングサービス統計 -->
                                        {% if profile.hosting_service_stats %}
                                        <div class="mb-3">
                                            <h5 class="text-white">ホスティングサービス</h5>
                                            <div>
                                                {% for service, count in profile.hosting_service_stats.items %}
                                                    <span class="badge cyber-hosting-badge me-1 mb-1">{{ service }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- デプロイ方法統計 -->
                                        {% if profile.deployment_method_stats %}
                                        <div class="mb-3">
                                            <h5 class="text-white">デプロイ方法</h5>
                                            <div>
                                                {% for method, count in profile.deployment_method_stats.items %}
                                                    <span class="badge cyber-deploy-badge me-1 mb-1">{{ method }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- データベースホスティング統計 -->
                                        {% if profile.database_hosting_stats %}
                                        <div class="mb-3">
                                            <h5 class="text-white">データベースホスティング</h5>
                                            <div>
                                                {% for hosting, count in profile.database_hosting_stats.items %}
                                                    <span class="badge cyber-hosting-badge me-1 mb-1">{{ hosting }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- フロントエンドホスティング統計 -->
                                        {% if profile.frontend_hosting_stats %}
                                        <div class="mb-3">
                                            <h5 class="text-white">フロントエンドホスティング</h5>
                                            <div>
                                                {% for hosting, count in profile.frontend_hosting_stats.items %}
                                                    <span class="badge cyber-hosting-badge me-1 mb-1">{{ hosting }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- セキュリティ -->
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3" style="color: #ff3e3e; text-shadow: 0 0 5px #ff3e3e;">
                            <i class="bi bi-shield-lock"></i> セキュリティ
                        </h4>
                        <div class="card bg-dark" style="border: 2px solid #ff3e3e; box-shadow: 0 0 15px #ff3e3e;">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- 認証方式統計 -->
                                        {% if profile.auth_method_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff3e3e; text-shadow: 0 0 5px #ff3e3e;">認証方式</h5>
                                            <div>
                                                {% for method, count in profile.auth_method_stats.items %}
                                                    <span class="badge cyber-security-badge me-1 mb-1">{{ method }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                        
                                        <!-- セキュリティ対策統計 -->
                                        {% if profile.security_measure_stats %}
                                        <div class="mb-3">
                                            <h5 style="color: #ff3e3e; text-shadow: 0 0 5px #ff3e3e;">セキュリティ対策</h5>
                                            <div>
                                                {% for measure, count in profile.security_measure_stats.items %}
                                                    <span class="badge cyber-security-badge me-1 mb-1">{{ measure }} ({{ count }})</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 開発アクティビティ -->
                    <div class="mt-4">
                        <h4 class="cyber-subtitle mb-3 dev-section" style="color: #ffff00; text-shadow: 0 0 5px #ffff00;">
                            <i class="bi bi-code-slash"></i> 開発アクティビティ
                        </h4>
                        <div class="card bg-dark dev-card" style="border: 2px solid #ffff00; box-shadow: 0 0 15px #ffff00;">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- シンプルなガンチャートコンポーネントを先に表示 -->
                                        {% include 'profiles/components/simple_gantt.html' %}
                                        
                                        <!-- 元のガンチャートコンポーネント -->
                                        {% include 'profiles/components/gantt_chart.html' %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {% if is_own_profile %}
                        <a href="{% url 'profiles:profile_edit' %}" class="btn btn-cyber-primary">
                            <i class="bi bi-pencil-square"></i> プロフィールを編集
                        </a>
                    {% else %}
                        <a href="{% url 'profiles:contact' user.id %}" class="btn btn-cyber-primary me-2">
                            <i class="bi bi-envelope"></i> メッセージを送る
                        </a>
                        <a href="{% url 'chats:new_chat' user.id %}" class="btn btn-cyber-primary">
                            <i class="bi bi-chat-text"></i> チャットを始める
                        </a>
                    {% endif %}
                    <a href="javascript:history.back()" class="btn btn-cyber-secondary ms-2">
                        <i class="bi bi-arrow-left"></i> 戻る
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* アバターのスタイル */
.cyber-avatar-placeholder {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    border: 2px solid rgba(0, 123, 255, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 20, 0.5);
    box-shadow: 0 0 10px rgba(0, 123, 255, 0.3);
    margin: 0 auto;
}

.cyber-avatar-placeholder i {
    font-size: 4rem;
    color: rgba(0, 123, 255, 0.7);
}

/* バッジスタイル - バックエンド/フロントエンドフレームワーク */
.django-badge {
    background-color: rgba(0, 20, 40, 0.7) !important;
    color: #00ffff !important; /* 青色 */
    border: 1px solid #00ffff !important;
    text-shadow: 0 0 5px #00ffff !important;
}

.vue-badge, .nuxt-badge {
    background-color: rgba(20, 0, 20, 0.7) !important;
    color: #ff1493 !important; /* ピンク色 - フロントエンド言語と同じ */
    border: 1px solid #ff1493 !important;
    text-shadow: 0 0 5px #ff1493 !important;
}

/* 開発アクティビティセクション - 黄色テーマ */
.dev-activity-title {
    color: #ffff00 !important;
    text-shadow: 0 0 5px #ffff00 !important;
}

.dev-activity-card {
    border: 2px solid #ffff00 !important;
    box-shadow: 0 0 15px #ffff00 !important;
}

/* ガンチャート関連 - 黄色テーマ */
.app-bar.past {
    background: linear-gradient(to right, rgba(255, 255, 0, 0.4), rgba(255, 255, 0, 0.7)) !important;
    border: 1px solid rgba(255, 255, 0, 0.8) !important;
    color: #000000 !important;
}

.app-bar.current {
    background: linear-gradient(to right, rgba(255, 255, 0, 0.6), rgba(255, 255, 0, 0.9)) !important;
    border: 1px solid rgba(255, 255, 0, 1) !important;
    color: #000000 !important;
}

.app-bar.future {
    background: linear-gradient(to right, rgba(255, 255, 0, 0.3), rgba(255, 255, 0, 0.5)) !important;
    border: 1px solid rgba(255, 255, 0, 0.6) !important;
    color: #000000 !important;
}

.cyber-gantt-container {
    border: 1px solid rgba(255, 255, 0, 0.5) !important;
    box-shadow: 0 0 15px rgba(255, 255, 0, 0.3) !important;
}

.cyber-gantt-header {
    border-bottom: 1px solid #ffff00 !important;
}

.cyber-gantt-label, .timeline-start, .timeline-end, .app-name, .month-label {
    color: #ffff00 !important;
    text-shadow: 0 0 5px rgba(255, 255, 0, 0.7) !important;
}

.month-bar {
    background-color: #ffff00 !important;
    box-shadow: 0 0 8px rgba(255, 255, 0, 0.7) !important;
}

.duration-badge {
    background-color: #ffff00 !important;
    box-shadow: 0 0 5px rgba(255, 255, 0, 0.5) !important;
}

.cyber-name {
    color: #ffd700;  /* ゴールドの色 */
    text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);  /* シャドウ */
    font-weight: bold;
}

.cyber-subtitle {
    font-size: 1.2rem;
    text-shadow: 0 0 5px currentColor;
    font-weight: bold;
}

.text-info {
    color: #00ffff !important;
}

/* バッジスタイル - セクションごとにカラーコーディング */
.cyber-backend-badge {
    background: rgba(0, 20, 40, 0.7);
    color: #00ffff;
    border: 1px solid #00ffff;
    text-shadow: 0 0 5px #00ffff;
    font-size: 0.8rem;
}

.cyber-framework-badge {
    background: rgba(20, 10, 0, 0.7);
    color: #ff8c00;
    border: 1px solid #ff8c00;
    text-shadow: 0 0 5px #ff8c00;
    font-size: 0.8rem;
}

/* Django用バッジ (青色) */
.cyber-framework-badge-django {
    background: rgba(0, 20, 40, 0.7) !important;
    color: #00ffff !important;
    border: 1px solid #00ffff !important;
    text-shadow: 0 0 5px #00ffff !important;
}

.cyber-frontend-badge {
    background: rgba(20, 0, 20, 0.7);
    color: #ff1493;
    border: 1px solid #ff1493;
    text-shadow: 0 0 5px #ff1493;
    font-size: 0.8rem;
}

.cyber-db-badge {
    background: rgba(0, 20, 10, 0.7);
    color: #50c878;
    border: 1px solid #50c878;
    text-shadow: 0 0 5px #50c878;
    font-size: 0.8rem;
}

.cyber-arch-badge {
    background: rgba(5, 20, 5, 0.7);
    color: #32cd32;
    border: 1px solid #32cd32;
    text-shadow: 0 0 5px #32cd32;
    font-size: 0.8rem;
}

.cyber-tool-badge {
    background: rgba(20, 10, 0, 0.7);
    color: #ff8c00;
    border: 1px solid #ff8c00;
    text-shadow: 0 0 5px #ff8c00;
    font-size: 0.8rem;
}

.cyber-hosting-badge {
    background: rgba(0, 20, 20, 0.7);
    color: #ffffff;
    border: 1px solid #ffffff;
    text-shadow: 0 0 5px #ffffff;
    font-size: 0.8rem;
}

.cyber-deploy-badge {
    background: rgba(0, 20, 20, 0.7);
    color: #ffffff;
    border: 1px solid #ffffff;
    text-shadow: 0 0 5px #ffffff;
    font-size: 0.8rem;
}

.cyber-security-badge {
    background: rgba(20, 0, 0, 0.7);
    color: #ff3e3e;
    border: 1px solid #ff3e3e;
    text-shadow: 0 0 5px #ff3e3e;
    font-size: 0.8rem;
}

.cyber-package-badge {
    background: rgba(0, 20, 40, 0.7);
    color: #00ffff;
    border: 1px solid #00ffff;
    text-shadow: 0 0 5px #00ffff;
    font-size: 0.8rem;
}

.cyber-css-badge {
    background: rgba(20, 0, 20, 0.7);
    color: #ff1493;
    border: 1px solid #ff1493;
    text-shadow: 0 0 5px #ff1493;
    font-size: 0.8rem;
}

.cyber-ui-badge {
    background: rgba(20, 0, 20, 0.7);
    color: #ff1493;
    border: 1px solid #ff1493;
    text-shadow: 0 0 5px #ff1493;
    font-size: 0.8rem;
}

.cyber-app-type-badge {
    background: rgba(20, 15, 0, 0.7);
    color: #ffd700;
    border: 1px solid #ffd700;
    text-shadow: 0 0 5px #ffd700;
    font-size: 0.8rem;
    padding: 0.5em 0.7em;
    margin-right: 0.3rem;
    margin-bottom: 0.3rem;
}

.cyber-genre-badge {
    background: rgba(20, 15, 0, 0.7);
    color: #ffd700;
    border: 1px solid #ffd700;
    text-shadow: 0 0 5px #ffd700;
    font-size: 0.8rem;
    padding: 0.5em 0.7em;
    margin-right: 0.3rem;
    margin-bottom: 0.3rem;
}

/* カード背景色を暗くして文字が読みやすいようにする */
.card {
    background-color: rgba(10, 15, 30, 0.9) !important;
}

.card-body {
    color: #e0e0ff !important;
}

/* 自己紹介など他の文字色も修正 */
.text-light {
    color: #e0e0ff !important;
    text-shadow: 0 0 2px rgba(224, 224, 255, 0.3);
}

/* カードヘッダーの背景色 */
.card-header {
    background-color: rgba(10, 20, 40, 0.95) !important;
}

/* section-color変数の設定（disabled-stylesに対応） */
#hardware-section { --section-color: var(--cyber-blue) !important; }
.hardware-item { --section-color: var(--cyber-blue) !important; }
#basic-section { --section-color: var(--cyber-gold) !important; }
#dev-env-section { --section-color: var(--cyber-orange) !important; }
#architecture-section { --section-color: var(--cyber-lime) !important; }
#backend-section { --section-color: var(--cyber-aqua) !important; }
#frontend-section { --section-color: var(--cyber-pink) !important; }
#database-section { --section-color: var(--cyber-emerald) !important; }
#hosting-section { --section-color: #ffffff !important; }
#security-section { --section-color: var(--cyber-red) !important; }
#development-section { --section-color: var(--cyber-yellow) !important; }

/* サイバーパンク風の背景 */
.cyber-background {
    background: linear-gradient(45deg, #001e54, #0066cc);
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
}

.cyber-grid {
    background-image: 
        linear-gradient(rgba(0,255,255,0.2) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,255,255,0.2) 1px, transparent 1px);
    background-size: 20px 20px;
    width: 100%;
    height: 100%;
    animation: gridGlow 4s ease-in-out infinite;
}

.cyber-card {
    background-color: rgba(13, 25, 45, 0.9) !important;
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.table.bg-transparent {
    background-color: transparent !important;
}

@keyframes gridGlow {
    0% { opacity: 0.5; }
    50% { opacity: 0.8; }
    100% { opacity: 0.5; }
}

.text-cyber-blue {
    color: #00ffff !important;
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
}

.cyber-count {
    color: #ffd700;
    font-weight: bold;
    text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
}

.card-text {
    color: #e0e0ff !important;
}

.table-borderless td {
    color: #e0e0ff !important;
}

.cyber-table {
    background-color: rgba(13, 25, 45, 0.8) !important;
    border-color: rgba(0, 123, 255, 0.3) !important;
}

.cyber-th {
    background-color: rgba(0, 50, 100, 0.8) !important;
    color: #00ffff !important;
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.5) !important;
    border-color: rgba(0, 123, 255, 0.5) !important;
}

.cyber-td {
    color: #e0e0ff !important;
    border-color: rgba(0, 123, 255, 0.3) !important;
}

.btn-cyber-info {
    background-color: rgba(0, 123, 255, 0.3) !important;
    color: #00ffff !important;
    border: 1px solid rgba(0, 123, 255, 0.5) !important;
    transition: all 0.2s ease !important;
}

.btn-cyber-info:hover {
    background-color: rgba(0, 123, 255, 0.5) !important;
    box-shadow: 0 0 10px rgba(0, 123, 255, 0.7) !important;
    transform: translateY(-2px) !important;
}

.cyber-story-text {
    color: #e0e0ff !important;
    text-shadow: 0 0 2px rgba(224, 224, 255, 0.3) !important;
    line-height: 1.6 !important;
    background-color: rgba(13, 25, 45, 0.5) !important;
    padding: 10px !important;
    border-radius: 5px !important;
    border-left: 3px solid rgba(0, 255, 255, 0.5) !important;
}

.cyber-gantt-container {
    border: 1px solid rgba(255, 255, 0, 0.5) !important;
    border-radius: 5px;
    overflow: hidden;
    margin-top: 15px;
    background: rgba(0, 10, 20, 0.7);
    box-shadow: 0 0 15px rgba(255, 255, 0, 0.3) !important;
}

.cyber-gantt-header {
    display: flex;
    border-bottom: 1px solid rgba(255, 255, 0, 0.5) !important;
    padding: 10px;
    background: rgba(0, 20, 40, 0.7);
}

.cyber-gantt-label {
    width: 120px;
    font-weight: bold;
    color: #ffff00;
    padding-right: 10px;
    text-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
}

.cyber-gantt-timeline {
    flex-grow: 1;
    position: relative;
    height: 30px;
}

.timeline-start, .timeline-end {
    position: absolute;
    font-size: 0.8rem;
    color: #ffff00;
    text-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
}

.timeline-start {
    left: 0;
}

.timeline-end {
    right: 0;
}

.timeline-now {
    position: absolute;
    top: -5px;
    transform: translateX(-50%);
    color: #ff9900;
    font-size: 0.7rem;
    text-shadow: 0 0 5px rgba(255, 153, 0, 0.7);
}

.timeline-now::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: 1px;
    height: 5px;
    background-color: #ff9900;
    box-shadow: 0 0 5px rgba(255, 153, 0, 0.7);
}

.cyber-gantt-rows {
    padding: 15px 10px;
}

.cyber-gantt-row {
    display: flex;
    margin-bottom: 12px;
    height: 30px;
    position: relative;
}

.cyber-gantt-row:last-child {
    margin-bottom: 0;
}

.app-name {
    width: 120px;
    padding-right: 10px;
    font-size: 0.9rem;
    color: #ffff00;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    text-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
}

.gantt-timeline {
    flex-grow: 1;
    position: relative;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 3px;
    overflow: hidden;
}

.app-bar {
    position: absolute;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 3px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: 0.8rem;
}

.app-bar.past {
    background: linear-gradient(to right, rgba(255, 255, 0, 0.4), rgba(255, 255, 0, 0.7)) !important;
    border: 1px solid rgba(255, 255, 0, 0.8) !important;
    color: #000000 !important;
}

.app-bar.current {
    background: linear-gradient(to right, rgba(255, 255, 0, 0.6), rgba(255, 255, 0, 0.9)) !important;
    border: 1px solid rgba(255, 255, 0, 1) !important;
    color: #000000 !important;
}

.app-bar.future {
    background: linear-gradient(to right, rgba(255, 255, 0, 0.3), rgba(255, 255, 0, 0.5)) !important;
    border: 1px solid rgba(255, 255, 0, 0.6) !important;
    color: #000000 !important;
}

.app-bar-error {
    position: absolute;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 0, 0, 0.3);
    border-radius: 3px;
    border: 1px dashed rgba(255, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
}

.error-text {
    font-size: 0.75rem;
    color: #ff3e3e;
    font-weight: bold;
    text-shadow: 0 0 5px rgba(255, 62, 62, 0.5);
}

.app-duration {
    font-size: 0.75rem;
    text-shadow: 0 0 3px rgba(0, 0, 0, 0.7);
}

.now-line {
    position: absolute;
    height: 100%;
    width: 2px;
    background-color: #ff9900;
    box-shadow: 0 0 5px rgba(255, 153, 0, 0.7);
    z-index: 10;
}

.duration-badge {
    display: inline-block;
    padding: 2px 6px;
    font-size: 0.75rem;
    color: #000;
    background-color: #ffff00;
    border-radius: 10px;
    box-shadow: 0 0 5px rgba(255, 255, 0, 0.5);
}

.debug-info {
    background-color: rgba(20, 20, 20, 0.8);
    border-radius: 5px;
    font-family: monospace;
}

.debug-info ul {
    margin-bottom: 0;
    padding-left: 20px;
}

.debug-info li {
    margin-bottom: 3px;
}

.cyber-month-activity {
    margin-top: 20px;
}

.cyber-months-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    padding: 15px;
    background-color: rgba(0, 20, 40, 0.7);
    border-radius: 5px;
    border: 1px solid rgba(0, 123, 255, 0.3);
}

.cyber-month {
    flex: 0 0 calc(20% - 10px);
    text-align: center;
}

.month-label {
    color: #ffff00;
    font-size: 0.8rem;
    margin-bottom: 5px;
    white-space: nowrap;
}

.month-bar {
    height: 15px;
    background-color: #ffff00;
    border-radius: 3px;
    box-shadow: 0 0 8px rgba(255, 255, 0, 0.7);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { opacity: 0.7; }
    50% { opacity: 1; }
    100% { opacity: 0.7; }
}

.app-bar-error {
    position: absolute;
    top: 5px;
    left: 0;
    right: 0;
    height: 20px;
    background-color: rgba(255, 0, 0, 0.3);
    border-radius: 3px;
    border: 1px dashed rgba(255, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
}

.error-text {
    font-size: 0.75rem;
    color: #ff3e3e;
    font-weight: bold;
    text-shadow: 0 0 5px rgba(255, 62, 62, 0.5);
}

/* ステータスバッジのサイバースタイル */
.job-status-badge {
    font-size: 0.85rem;
    padding: 0.4em 0.6em;
    border-radius: 4px;
}

.cyber-badge-available {
    background: rgba(0, 20, 40, 0.7) !important;
    color: var(--cyber-blue) !important;
    border: 1px solid var(--cyber-blue) !important;
    text-shadow: 0 0 5px var(--cyber-blue) !important;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.3) !important;
}

.cyber-badge-limited {
    background: rgba(40, 30, 0, 0.7) !important;
    color: var(--cyber-gold) !important;
    border: 1px solid var(--cyber-gold) !important;
    text-shadow: 0 0 5px var(--cyber-gold) !important;
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.3) !important;
}

.cyber-badge-unavailable {
    background: rgba(40, 0, 0, 0.7) !important;
    color: #ff5555 !important; /* より明るい赤色に変更 */
    border: 1px solid #ff5555 !important;
    text-shadow: 0 0 5px #ff5555 !important;
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.5) !important; /* シャドウも強く */
    font-weight: bold; /* テキストを太字に */
}

/* 本人のみ表示バッジ */
.badge-private {
    background: rgba(0, 20, 40, 0.7) !important;
    color: var(--cyber-blue) !important;
    border: 1px solid var(--cyber-blue) !important;
    font-size: 0.7rem;
    padding: 0.2em 0.4em;
}

/* 開発アクティビティ関連のスタイル - 黄色 */
.cyber-activity {
    color: #ffff00 !important;
    text-shadow: 0 0 5px #ffff00 !important;
}

.cyber-activity-card {
    border: 2px solid #ffff00 !important;
    box-shadow: 0 0 15px #ffff00 !important;
}

/* スタイルを追加 - バッジ関連 */
/* Djangoバッジ専用スタイル - 青色 */
.django-badge {
    background-color: rgba(0, 20, 40, 0.7) !important;
    color: #00ffff !important;
    border: 1px solid #00ffff !important;
    text-shadow: 0 0 5px #00ffff !important;
}

/* Vue/Nuxtバッジ専用スタイル - ピンク色に変更 */
.vue-badge, .nuxt-badge {
    background-color: rgba(20, 0, 20, 0.7) !important;
    color: #ff1493 !important; /* ピンク色に変更 */
    border: 1px solid #ff1493 !important;
    text-shadow: 0 0 5px #ff1493 !important;
}

/* 開発アクティビティ関連のスタイル - 黄色 */
.cyber-subtitle.dev-activity {
    color: #ffff00 !important;
    text-shadow: 0 0 5px #ffff00 !important;
}

.dev-activity-card {
    border: 2px solid #ffff00 !important;
    box-shadow: 0 0 15px #ffff00 !important;
}

/* ガンチャート関連のスタイル - 全て黄色に統一 */
.cyber-gantt-container {
    border: 1px solid rgba(255, 255, 0, 0.5) !important;
    border-radius: 5px;
    overflow: hidden;
    margin-top: 15px;
    background: rgba(0, 10, 20, 0.7);
    box-shadow: 0 0 15px rgba(255, 255, 0, 0.3) !important;
}

.cyber-gantt-header {
    display: flex;
    border-bottom: 1px solid rgba(255, 255, 0, 0.5) !important;
    padding: 10px;
    background: rgba(0, 20, 40, 0.7);
}

.cyber-gantt-label {
    width: 120px;
    font-weight: bold;
    color: #ffff00 !important;
    padding-right: 10px;
    text-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
}

.timeline-start, .timeline-end {
    position: absolute;
    font-size: 0.8rem;
    color: #ffff00 !important;
    text-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
}

.app-name {
    width: 120px;
    padding-right: 10px;
    font-size: 0.9rem;
    color: #ffff00 !important;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    text-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
}

.timeline-now {
    position: absolute;
    top: -5px;
    transform: translateX(-50%);
    color: #ffff00 !important;
    font-size: 0.7rem;
    text-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
}

.timeline-now::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: 1px;
    height: 5px;
    background-color: #ff9900;
    box-shadow: 0 0 5px rgba(255, 153, 0, 0.7);
}

/* バッジカスタマイズ - Djangoは青色 */
.badge[data-framework="django"] {
    background-color: rgba(0, 20, 40, 0.7) !important;
    color: #00ffff !important;
    border: 1px solid #00ffff !important;
    text-shadow: 0 0 5px #00ffff !important;
}

/* バッジカスタマイズ - Vue/Nuxtは赤色 */
.badge[data-framework="vue"],
.badge[data-framework="nuxt"] {
    background-color: rgba(20, 0, 20, 0.7) !important;
    color: #ff1493 !important; /* ピンク色 - フロントエンド言語と同じ */
    border: 1px solid #ff1493 !important;
    text-shadow: 0 0 5px #ff1493 !important;
}

/* 開発アクティビティ - 黄色系 */
.dev-section {
    color: #ffff00 !important;
    text-shadow: 0 0 5px #ffff00 !important;
}

.dev-card {
    border: 2px solid #ffff00 !important;
    box-shadow: 0 0 15px #ffff00 !important;
}

/* ガンチャート要素 - 黄色系 */
.app-bar.past {
    background: linear-gradient(to right, rgba(255, 255, 0, 0.4), rgba(255, 255, 0, 0.7)) !important;
    border: 1px solid rgba(255, 255, 0, 0.8) !important;
    color: #000000 !important;
}

.app-bar.current {
    background: linear-gradient(to right, rgba(255, 255, 0, 0.6), rgba(255, 255, 0, 0.9)) !important;
    border: 1px solid rgba(255, 255, 0, 1) !important;
    color: #000000 !important;
}

.app-bar.future {
    background: linear-gradient(to right, rgba(255, 255, 0, 0.3), rgba(255, 255, 0, 0.5)) !important;
    border: 1px solid rgba(255, 255, 0, 0.6) !important;
    color: #000000 !important;
}

.timeline-start, .timeline-end, .app-name, .month-label {
    color: #ffff00 !important;
    text-shadow: 0 0 5px #ffff00 !important;
}

.cyber-gantt-container {
    border-color: #ffff00 !important;
    box-shadow: 0 0 15px rgba(255, 255, 0, 0.3) !important;
}

.cyber-gantt-header {
    border-bottom-color: #ffff00 !important;
}

.month-bar {
    background-color: #ffff00 !important;
    box-shadow: 0 0 8px rgba(255, 255, 0, 0.7) !important;
}

/* オンライン状態表示 */
.user-status {
    font-size: 0.8rem;
    color: #00ff00;
    margin-bottom: 10px;
    display: inline-block;
}

.user-status:before {
    content: "•";
    margin-right: 3px;
}

.user-status.online {
    color: #00ff00;
}

.user-status.offline {
    color: #ff5555;
}

.user-status.away {
    color: #ffaa00;
}
</style>

<!-- アプリ開発期間ガンチャート用JavaScript -->
{% endblock %} 
</rewritten_file>