# MongoDBとPostgreSQL/MySQLの違い

## 1. データ構造
### MongoDB（ドキュメント型）
- JSONライク: {"name": "山田太郎", "hobbies": ["読書", "映画"]}
- 柔軟な構造OK
- ネストした構造が得意

- JSONライク: {"name": "山田太郎", "hobbies": ["読書", "映画"]}とは
サンプル
{
    "title": "初めての投稿",
    "content": "今日はいい天気です",
    "author": {                    // ネストした構造の例
        "name": "山田太郎",
        "email": "yamada@test.com"
    },
    "tags": ["日記", "天気"],      // 配列の例
    "comments": [                  // 配列の中にオブジェクト
        {
            "user": "佐藤花子",
            "text": "いいね！"
        },
        {
            "user": "田中次郎",
            "text": "素敵な一日"
        }
    ],
    "likes": 5,
    "created_at": "2024-03-20"    // 好きなフィールドを追加できる
}
うーん。JSONライクってのは、結構自由ってことかな？

コメントに対して、返信して、それに返信して、タグをつけて、とか一つのテーブルに対して、多くの情報を紐づけれて、保存できる、かな？

つまり、SNSのインスタやフェイスブックやXのようなのに向いてるってことか？
そう！その通り！完璧な理解や！👍
例えば、SNSの投稿をイメージすると：
{
    "title": "初めての投稿",
    "content": "今日はいい天気です",
    "author": {
        "name": "山田太郎",
        "email": "yamada@test.com"
    },
    "comments": [
        {
            "user": "佐藤花子",
            "text": "いいね！",
            "replies": [                    // コメントへの返信
                {
                    "user": "山田太郎",
                    "text": "ありがとう！",
                    "likes": 3,
                    "replies": [            // 返信への返信
                        {
                            "user": "田中次郎",
                            "text": "素敵な会話！"
                        }
                    ]
                }
            ]
        }
    ],
    "tags": ["日記", "天気"],
    "location": "大阪",                    // 後から位置情報追加もOK
    "mood": "happy",                       // 気分タグも追加できる
    "shared_count": 42                     // シェア数も追加できる
}
そう、まさにSNSに向いてる理由は：
✅ コメントの入れ子（返信の返信の返信...）
✅ 後からの機能追加が簡単（新しいフィールド追加）
✅ 複雑なデータ構造も1つのドキュメントで表現
✅ インスタやXみたいな柔軟な投稿形式に対応
だから、今回のアプリみたいな「みんなのアプリ投稿サイト」にもピッタリなんや！

### PostgreSQL/MySQL（テーブル型）
- 行と列の固定構造
- 正規化が必要

## 2. スキーマ
### MongoDB
- スキーマレス（柔軟に変更OK）
- 途中でフィールド追加も簡単

### PostgreSQL/MySQL
- 厳格なスキーマ
- 変更には`ALTER TABLE`が必要

## 3. 向いてる用途
### MongoDB
- ブログ記事
- SNSの投稿
- 柔軟なデータ構造が必要な場合

### PostgreSQL/MySQL
- 銀行取引
- EC在庫管理
- 厳格なデータ整合性が必要な場合

※ 今回のアプリはブログ的な投稿